!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";function b(d,e){if(this.el=d,this.$el=a(d),this.s=a.extend({},c,e),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.$items=this.s.dynamic?this.s.dynamicEl:"this"===this.s.selector?this.$el:""===this.s.selector?this.$el.children():this.s.selectWithin?a(this.s.selectWithin).find(this.s.selector):this.$el.find(a(this.s.selector)),this.$slide="",this.$outer="",this.init(),this}var c={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};b.prototype.init=function(){var d=this;d.s.preload>d.$items.length&&(d.s.preload=d.$items.length);var e=window.location.hash;0<e.indexOf("lg="+this.s.galleryId)&&(d.index=parseInt(e.split("&slide=")[1],10),a("body").addClass("lg-from-hash"),a("body").hasClass("lg-on")||(setTimeout(function(){d.build(d.index)}),a("body").addClass("lg-on"))),d.s.dynamic?(d.$el.trigger("onBeforeOpen.lg"),d.index=d.s.index||0,a("body").hasClass("lg-on")||setTimeout(function(){d.build(d.index),a("body").addClass("lg-on")})):d.$items.on("click.lgcustom",function(f){try{f.preventDefault(),f.preventDefault()}catch(g){f.returnValue=!1}d.$el.trigger("onBeforeOpen.lg"),d.index=d.s.index||d.$items.index(this),a("body").hasClass("lg-on")||(d.build(d.index),a("body").addClass("lg-on"))})},b.prototype.build=function(d){var e=this;e.structure(),a.each(a.fn.lightGallery.modules,function(f){e.modules[f]=new a.fn.lightGallery.modules[f](e.el)}),e.slide(d,!1,!1,!1),e.s.keyPress&&e.keyPress(),1<e.$items.length?(e.arrow(),setTimeout(function(){e.enableDrag(),e.enableSwipe()},50),e.s.mousewheel&&e.mousewheel()):e.$slide.on("click.lg",function(){e.$el.trigger("onSlideClick.lg")}),e.counter(),e.closeGallery(),e.$el.trigger("onAfterOpen.lg"),e.$outer.on("mousemove.lg click.lg touchstart.lg",function(){e.$outer.removeClass("lg-hide-items"),clearTimeout(e.hideBartimeout),e.hideBartimeout=setTimeout(function(){e.$outer.addClass("lg-hide-items")},e.s.hideBarsDelay)}),e.$outer.trigger("mousemove.lg")},b.prototype.structure=function(){var d,e="",f="",g=0,h="",i=this;for(a("body").append("<div class=\"lg-backdrop\"></div>"),a(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),g=0;g<this.$items.length;g++)e+="<div class=\"lg-item\"></div>";if(this.s.controls&&1<this.$items.length&&(f="<div class=\"lg-actions\"><button class=\"lg-prev lg-icon\">"+this.s.prevHtml+"</button><button class=\"lg-next lg-icon\">"+this.s.nextHtml+"</button></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(h="<div class=\"lg-sub-html\"></div>"),d="<div class=\"lg-outer "+this.s.addClass+" "+this.s.startClass+"\"><div class=\"lg\" style=\"width:"+this.s.width+"; height:"+this.s.height+"\"><div class=\"lg-inner\">"+e+"</div><div class=\"lg-toolbar lg-group\"><span class=\"lg-close lg-icon\"></span></div>"+f+h+"</div></div>",a("body").append(d),this.$outer=a(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),i.setTop(),a(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){i.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&1<this.$items.length&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var j=this.$outer.find(".lg-inner");j.css("transition-timing-function",this.s.cssEasing),j.css("transition-duration",this.s.speed+"ms")}setTimeout(function(){a(".lg-backdrop").addClass("in")}),setTimeout(function(){i.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append("<a id=\"lg-download\" target=\"_blank\" download class=\"lg-download lg-icon\"></a>"),this.prevScrollTop=a(window).scrollTop()},b.prototype.setTop=function(){if("100%"!==this.s.height){var d=a(window).height(),e=(d-parseInt(this.s.height,10))/2,f=this.$outer.find(".lg");d>=parseInt(this.s.height,10)?f.css("top",e+"px"):f.css("top","0px")}},b.prototype.doCss=function(){return!!function(){var d=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],e=document.documentElement,f=0;for(f=0;f<d.length;f++)if(d[f]in e.style)return!0}()},b.prototype.isVideo=function(d,e){var f;if(f=this.s.dynamic?this.s.dynamicEl[e].html:this.$items.eq(e).attr("data-html"),!d)return f?{html5:!0}:(console.error("lightGallery :- data-src is not pvovided on slide item "+(e+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html"),!1);var g=d.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),h=d.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),i=d.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),j=d.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return g?{youtube:g}:h?{vimeo:h}:i?{dailymotion:i}:j?{vk:j}:void 0},b.prototype.counter=function(){this.s.counter&&a(this.s.appendCounterTo).append("<div id=\"lg-counter\"><span id=\"lg-counter-current\">"+(parseInt(this.index,10)+1)+"</span> / <span id=\"lg-counter-all\">"+this.$items.length+"</span></div>")},b.prototype.addHtml=function(d){var e,f,g=null;if(this.s.dynamic?this.s.dynamicEl[d].subHtmlUrl?e=this.s.dynamicEl[d].subHtmlUrl:g=this.s.dynamicEl[d].subHtml:(f=this.$items.eq(d),f.attr("data-sub-html-url")?e=f.attr("data-sub-html-url"):(g=f.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!g&&(g=f.attr("title")||f.find("img").first().attr("alt")))),!e)if("undefined"!=typeof g&&null!==g){var h=g.substring(0,1);"."!==h&&"#"!==h||(g=this.s.subHtmlSelectorRelative&&!this.s.dynamic?f.find(g).html():a(g).html())}else g="";".lg-sub-html"===this.s.appendSubHtmlTo?e?this.$outer.find(this.s.appendSubHtmlTo).load(e):this.$outer.find(this.s.appendSubHtmlTo).html(g):e?this.$slide.eq(d).load(e):this.$slide.eq(d).append(g),"undefined"!=typeof g&&null!==g&&(""===g?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[d])},b.prototype.preload=function(d){var e=1,f=1;for(e=1;e<=this.s.preload&&!(e>=this.$items.length-d);e++)this.loadContent(d+e,!1,0);for(f=1;f<=this.s.preload&&!(0>d-f);f++)this.loadContent(d-f,!1,0)},b.prototype.loadContent=function(d,e,f){var g,h,i,j,k,l,m=this,n=!1,o=function(V){for(var W,X=[],Y=[],Z=0;Z<V.length;Z++)W=V[Z].split(" "),""===W[0]&&W.splice(0,1),Y.push(W[0]),X.push(W[1]);for(var $=a(window).width(),_=0;_<X.length;_++)if(parseInt(X[_],10)>$){h=Y[_];break}};if(m.s.dynamic){if(m.s.dynamicEl[d].poster&&(n=!0,i=m.s.dynamicEl[d].poster),l=m.s.dynamicEl[d].html,h=m.s.dynamicEl[d].src,m.s.dynamicEl[d].responsive){var p=m.s.dynamicEl[d].responsive.split(",");o(p)}j=m.s.dynamicEl[d].srcset,k=m.s.dynamicEl[d].sizes}else{if(m.$items.eq(d).attr("data-poster")&&(n=!0,i=m.$items.eq(d).attr("data-poster")),l=m.$items.eq(d).attr("data-html"),h=m.$items.eq(d).attr("href")||m.$items.eq(d).attr("data-src"),m.$items.eq(d).attr("data-responsive")){var q=m.$items.eq(d).attr("data-responsive").split(",");o(q)}j=m.$items.eq(d).attr("data-srcset"),k=m.$items.eq(d).attr("data-sizes")}var r=!1;m.s.dynamic?m.s.dynamicEl[d].iframe&&(r=!0):"true"===m.$items.eq(d).attr("data-iframe")&&(r=!0);var s=m.isVideo(h,d);if(!m.$slide.eq(d).hasClass("lg-loaded")){if(r)m.$slide.eq(d).prepend("<div class=\"lg-video-cont lg-has-iframe\" style=\"max-width:"+m.s.iframeMaxWidth+"\"><div class=\"lg-video\"><iframe class=\"lg-object\" frameborder=\"0\" src=\""+h+"\"  allowfullscreen=\"true\"></iframe></div></div>");else if(n){var U="";U=s&&s.youtube?"lg-has-youtube":s&&s.vimeo?"lg-has-vimeo":"lg-has-html5",m.$slide.eq(d).prepend("<div class=\"lg-video-cont "+U+" \"><div class=\"lg-video\"><span class=\"lg-video-play\"></span><img class=\"lg-object lg-has-poster\" src=\""+i+"\" /></div></div>")}else s?(m.$slide.eq(d).prepend("<div class=\"lg-video-cont \"><div class=\"lg-video\"></div></div>"),m.$el.trigger("hasVideo.lg",[d,h,l])):m.$slide.eq(d).prepend("<div class=\"lg-img-wrap\"><img class=\"lg-object lg-image\" src=\""+h+"\" /></div>");if(m.$el.trigger("onAferAppendSlide.lg",[d]),g=m.$slide.eq(d).find(".lg-object"),k&&g.attr("sizes",k),j){g.attr("srcset",j);try{picturefill({elements:[g[0]]})}catch(V){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&m.addHtml(d),m.$slide.eq(d).addClass("lg-loaded")}m.$slide.eq(d).find(".lg-object").on("load.lg error.lg",function(){var V=0;f&&!a("body").hasClass("lg-from-hash")&&(V=f),setTimeout(function(){m.$slide.eq(d).addClass("lg-complete"),m.$el.trigger("onSlideItemLoad.lg",[d,f||0])},V)}),s&&s.html5&&!n&&m.$slide.eq(d).addClass("lg-complete"),!0===e&&(m.$slide.eq(d).hasClass("lg-complete")?m.preload(d):m.$slide.eq(d).find(".lg-object").on("load.lg error.lg",function(){m.preload(d)}))},b.prototype.slide=function(d,e,f,g){var h=this.$outer.find(".lg-current").index(),i=this;if(!i.lGalleryOn||h!==d){var j=this.$slide.length,k=i.lGalleryOn?this.s.speed:0;if(!i.lgBusy){if(this.s.download){var l;l=i.s.dynamic?!1!==i.s.dynamicEl[d].downloadUrl&&(i.s.dynamicEl[d].downloadUrl||i.s.dynamicEl[d].src):"false"!==i.$items.eq(d).attr("data-download-url")&&(i.$items.eq(d).attr("data-download-url")||i.$items.eq(d).attr("href")||i.$items.eq(d).attr("data-src")),l?(a("#lg-download").attr("href",l),i.$outer.removeClass("lg-hide-download")):i.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[h,d,e,f]),i.lgBusy=!0,clearTimeout(i.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){i.addHtml(d)},k),this.arrowDisable(d),g||(d<h?g="prev":d>h&&(g="next")),e){this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");var m,n;2<j?(m=d-1,n=d+1,0===d&&h===j-1?(n=0,m=j-1):d==j-1&&0===h&&(n=0,m=j-1)):(m=0,n=1),"prev"===g?i.$slide.eq(n).addClass("lg-next-slide"):i.$slide.eq(m).addClass("lg-prev-slide"),i.$slide.eq(d).addClass("lg-current")}else i.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===g?(this.$slide.eq(d).addClass("lg-prev-slide"),this.$slide.eq(h).addClass("lg-next-slide")):(this.$slide.eq(d).addClass("lg-next-slide"),this.$slide.eq(h).addClass("lg-prev-slide")),setTimeout(function(){i.$slide.removeClass("lg-current"),i.$slide.eq(d).addClass("lg-current"),i.$outer.removeClass("lg-no-trans")},50);i.lGalleryOn?(setTimeout(function(){i.loadContent(d,!0,0)},this.s.speed+50),setTimeout(function(){i.lgBusy=!1,i.$el.trigger("onAfterSlide.lg",[h,d,e,f])},this.s.speed)):(i.loadContent(d,!0,i.s.backdropDuration),i.lgBusy=!1,i.$el.trigger("onAfterSlide.lg",[h,d,e,f])),i.lGalleryOn=!0,this.s.counter&&a("#lg-counter-current").text(d+1)}}},b.prototype.goToNextSlide=function(d){var e=this,f=e.s.loop;d&&3>e.$slide.length&&(f=!1),e.lgBusy||(e.index+1<e.$slide.length?(e.index++,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,d,!1,"next")):f?(e.index=0,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,d,!1,"next")):e.s.slideEndAnimatoin&&!d&&(e.$outer.addClass("lg-right-end"),setTimeout(function(){e.$outer.removeClass("lg-right-end")},400)))},b.prototype.goToPrevSlide=function(d){var e=this,f=e.s.loop;d&&3>e.$slide.length&&(f=!1),e.lgBusy||(0<e.index?(e.index--,e.$el.trigger("onBeforePrevSlide.lg",[e.index,d]),e.slide(e.index,d,!1,"prev")):f?(e.index=e.$items.length-1,e.$el.trigger("onBeforePrevSlide.lg",[e.index,d]),e.slide(e.index,d,!1,"prev")):e.s.slideEndAnimatoin&&!d&&(e.$outer.addClass("lg-left-end"),setTimeout(function(){e.$outer.removeClass("lg-left-end")},400)))},b.prototype.keyPress=function(){var d=this;1<this.$items.length&&a(window).on("keyup.lg",function(e){1<d.$items.length&&(37===e.keyCode&&(e.preventDefault(),d.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),d.goToNextSlide()))}),a(window).on("keydown.lg",function(e){!0===d.s.escKey&&27===e.keyCode&&(e.preventDefault(),d.$outer.hasClass("lg-thumb-open")?d.$outer.removeClass("lg-thumb-open"):d.destroy())})},b.prototype.arrow=function(){var d=this;this.$outer.find(".lg-prev").on("click.lg",function(){d.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){d.goToNextSlide()})},b.prototype.arrowDisable=function(d){!this.s.loop&&this.s.hideControlOnEnd&&(d+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),0<d?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},b.prototype.setTranslate=function(d,e,f){this.s.useLeft?d.css("left",e):d.css({transform:"translate3d("+e+"px, "+f+"px, 0px)"})},b.prototype.touchMove=function(d,e){var f=e-d;15<Math.abs(f)&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),f,0),this.setTranslate(a(".lg-prev-slide"),-this.$slide.eq(this.index).width()+f,0),this.setTranslate(a(".lg-next-slide"),this.$slide.eq(this.index).width()+f,0))},b.prototype.touchEnd=function(d){var e=this;"lg-slide"!==e.s.mode&&e.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){e.$outer.removeClass("lg-dragging"),0>d&&Math.abs(d)>e.s.swipeThreshold?e.goToNextSlide(!0):0<d&&Math.abs(d)>e.s.swipeThreshold?e.goToPrevSlide(!0):5>Math.abs(d)&&e.$el.trigger("onSlideClick.lg"),e.$slide.removeAttr("style")}),setTimeout(function(){e.$outer.hasClass("lg-dragging")||"lg-slide"===e.s.mode||e.$outer.removeClass("lg-slide")},e.s.speed+100)},b.prototype.enableSwipe=function(){var d=this,e=0,f=0,g=!1;d.s.enableSwipe&&d.isTouch&&d.doCss()&&(d.$slide.on("touchstart.lg",function(h){d.$outer.hasClass("lg-zoomed")||d.lgBusy||(h.preventDefault(),d.manageSwipeClass(),e=h.originalEvent.targetTouches[0].pageX)}),d.$slide.on("touchmove.lg",function(h){d.$outer.hasClass("lg-zoomed")||(h.preventDefault(),f=h.originalEvent.targetTouches[0].pageX,d.touchMove(e,f),g=!0)}),d.$slide.on("touchend.lg",function(){d.$outer.hasClass("lg-zoomed")||(g?(g=!1,d.touchEnd(f-e)):d.$el.trigger("onSlideClick.lg"))}))},b.prototype.enableDrag=function(){var d=this,e=0,f=0,g=!1,h=!1;d.s.enableDrag&&!d.isTouch&&d.doCss()&&(d.$slide.on("mousedown.lg",function(i){d.$outer.hasClass("lg-zoomed")||(a(i.target).hasClass("lg-object")||a(i.target).hasClass("lg-video-play"))&&(i.preventDefault(),d.lgBusy||(d.manageSwipeClass(),e=i.pageX,g=!0,d.$outer.scrollLeft+=1,d.$outer.scrollLeft-=1,d.$outer.removeClass("lg-grab").addClass("lg-grabbing"),d.$el.trigger("onDragstart.lg")))}),a(window).on("mousemove.lg",function(i){g&&(h=!0,f=i.pageX,d.touchMove(e,f),d.$el.trigger("onDragmove.lg"))}),a(window).on("mouseup.lg",function(i){h?(h=!1,d.touchEnd(f-e),d.$el.trigger("onDragend.lg")):(a(i.target).hasClass("lg-object")||a(i.target).hasClass("lg-video-play"))&&d.$el.trigger("onSlideClick.lg"),g&&(g=!1,d.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},b.prototype.manageSwipeClass=function(){var d=this.index+1,e=this.index-1;this.s.loop&&2<this.$slide.length&&(0===this.index?e=this.$slide.length-1:this.index===this.$slide.length-1&&(d=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),-1<e&&this.$slide.eq(e).addClass("lg-prev-slide"),this.$slide.eq(d).addClass("lg-next-slide")},b.prototype.mousewheel=function(){var d=this;d.$outer.on("mousewheel.lg",function(e){e.deltaY&&(0<e.deltaY?d.goToPrevSlide():d.goToNextSlide(),e.preventDefault())})},b.prototype.closeGallery=function(){var d=this,e=!1;this.$outer.find(".lg-close").on("click.lg",function(){d.destroy()}),d.s.closable&&(d.$outer.on("mousedown.lg",function(f){e=!!(a(f.target).is(".lg-outer")||a(f.target).is(".lg-item ")||a(f.target).is(".lg-img-wrap"))}),d.$outer.on("mouseup.lg",function(f){(a(f.target).is(".lg-outer")||a(f.target).is(".lg-item ")||a(f.target).is(".lg-img-wrap")&&e)&&(d.$outer.hasClass("lg-dragging")||d.destroy())}))},b.prototype.destroy=function(d){var e=this;d||(e.$el.trigger("onBeforeClose.lg"),a(window).scrollTop(e.prevScrollTop)),d&&(e.s.dynamic||this.$items.off("click.lg click.lgcustom"),a.removeData(e.el,"lightGallery")),this.$el.off(".lg.tm"),a.each(a.fn.lightGallery.modules,function(f){e.modules[f]&&e.modules[f].destroy()}),this.lGalleryOn=!1,clearTimeout(e.hideBartimeout),this.hideBartimeout=!1,a(window).off(".lg"),a("body").removeClass("lg-on lg-from-hash"),e.$outer&&e.$outer.removeClass("lg-visible"),a(".lg-backdrop").removeClass("in"),setTimeout(function(){e.$outer&&e.$outer.remove(),a(".lg-backdrop").remove(),d||e.$el.trigger("onCloseAfter.lg")},e.s.backdropDuration+50)},a.fn.lightGallery=function(d){return this.each(function(){if(a.data(this,"lightGallery"))try{a(this).data("lightGallery").init()}catch(e){console.error("lightGallery has not initiated properly")}else a.data(this,"lightGallery",new b(this,d))})},a.fn.lightGallery.modules={}}()});
