webpackJsonp([30],{152:function(e,t,a){function n(e){a(153)}var i=a(0)(a(155),a(156),n,"data-v-86e339ba",null);e.exports=i.exports},153:function(e,t,a){var n=a(154);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(31)("94d30712",n,!0)},154:function(e,t,a){t=e.exports=a(30)(!0),t.push([e.i,".\\34 u img[data-v-86e339ba]{max-height:100%;max-width:100%}article.special[data-v-86e339ba],section.special[data-v-86e339ba]{text-align:left;padding-left:2.55em}h3[data-v-86e339ba]{text-align:center}","",{version:3,sources:["/Users/omarezzatel-etreby/Desktop/Shinigamis/Frontend/src/components/admins.vue"],names:[],mappings:"AACA,4BACE,gBAAiB,AACjB,cAAgB,CACjB,AACD,kEACI,gBAAiB,AACjB,mBAAqB,CACxB,AACD,oBACA,iBAAmB,CAClB",file:"admins.vue",sourcesContent:["\n.\\34 u img[data-v-86e339ba] {\n  max-height: 100%;\n  max-width: 100%;\n}\narticle.special[data-v-86e339ba], section.special[data-v-86e339ba] {\n    text-align: left; \n    padding-left: 2.55em;\n}\nh3[data-v-86e339ba]{\ntext-align: center;\n}\n"],sourceRoot:""}])},155:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),i=a.n(n),s=a(2);t.default={name:"admins",data:function(){return{Admins:[],email:"",isSuper:""}},methods:{fetchAdmins:function(){var e=this;this.$http.get(i.a.URL+"/admin/admins").then(function(t){e.Admins=t.body.data.Admins}).catch(function(e){if(e.body.msg instanceof String||"string"==typeof e.body.msg)swal("Oops...",e.body.msg,"error");else for(var t=0;t<e.body.msg.length;t++){var a=e.body.msg[t].msg;alertify.notify(a,"error",5)}})},addAdmin:function(){var e=this;$("#loading").addClass("fa-circle-o-notch fa-spin fa-fw").removeClass("fa-plus");var t={email:this.email,isSuper:this.isSuper};this.$http.post(i.a.URL+"/admin/addAdmin",t,{headers:s.a.getAuthHeader()}).then(function(t){e.email="",e.isSuper="",alertify.notify(t.body.msg,"success",5),e.fetchAdmins(),$("#loading").addClass("fa-plus").removeClass("fa-circle-o-notch fa-spin fa-fw")}).catch(function(e){if($("#loading").addClass("fa-plus").removeClass("fa-circle-o-notch fa-spin fa-fw"),e.body.msg instanceof String||"string"==typeof e.body.msg)swal("Oops...",e.body.msg,"error");else for(var t=0;t<e.body.msg.length;t++){var a=e.body.msg[t].msg;alertify.notify(a,"error",5)}})},deleteAdmin:function(e){var t=this;swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){t.$http.post(i.a.URL+"/admin/deleteAdmin",{id:e},{headers:s.a.getAuthHeader()}).then(function(e){swal("Deleted!",e.body.msg,"success"),t.fetchAdmins()}).catch(function(e){if(e.body.msg instanceof String||"string"==typeof e.body.msg)swal("Oops...",e.body.msg,"error");else for(var t=0;t<e.body.msg.length;t++){var a=e.body.msg[t].msg;alertify.notify(a,"error",5)}})},function(e){})}},components:{},created:function(){this.fetchAdmins()}}},156:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admins"},[a("section",{staticClass:"wrapper style1 special fade-up",attrs:{id:"admins"}},[a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"table-wrapper"},[a("table",[e._m(1),e._v(" "),a("tbody",[e._l(e.Admins,function(t){return a("tr",[a("td",[e._v(e._s(t.email))]),e._v(" "),a("td",[e._v(e._s(t.isSuper))]),e._v(" "),a("td",[a("a",{staticClass:"button special",on:{click:function(a){e.deleteAdmin(t._id)}}},[e._v("Delete")])])])}),e._v(" "),a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.isSuper,expression:"isSuper"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.isSuper=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Super")]),e._v(" "),a("option",{domProps:{value:!0}},[e._v("True")]),e._v(" "),a("option",{domProps:{value:!1}},[e._v("False")])])]),e._v(" "),a("td",[a("button",{staticClass:"button special",on:{click:function(t){e.addAdmin()}}},[a("i",{staticClass:"fa fa-plus",attrs:{id:"loading","aria-hidden":"true"}})])])])],2)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"major"},[a("h2",[e._v("Admins")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Email")]),e._v(" "),a("th",[e._v("Super")]),e._v(" "),a("th",[e._v("Actions")])])])}]}}});
//# sourceMappingURL=30.3042bcfedf649fc2f1fe.js.map