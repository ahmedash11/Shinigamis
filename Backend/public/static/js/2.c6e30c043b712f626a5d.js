webpackJsonp([2],{140:function(t,e,a){var i=a(141);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(31)("d7f61cb2",i,!0)},141:function(t,e,a){e=t.exports=a(30)(!0),e.push([t.i,".modal-content[data-v-a400c5a0]{position:relative;background-color:#1c1d26;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}article.special[data-v-a400c5a0],section.special[data-v-a400c5a0]{text-align:left;padding-left:2.55em}h3[data-v-a400c5a0]{text-align:center}","",{version:3,sources:["/Users/omarezzatel-etreby/Desktop/Shinigamis/Frontend/src/components/locationsAdmin.vue"],names:[],mappings:"AACA,gCACE,kBAAmB,AACnB,yBAA0B,AAC1B,sBAAuB,AACvB,gCAAqC,AACrC,kBAAmB,AACnB,oCAAyC,AACzC,4BAA6B,AAC7B,SAAW,CACZ,AACD,kEACI,gBAAiB,AACjB,mBAAqB,CACxB,AACD,oBACA,iBAAmB,CAClB",file:"locationsAdmin.vue",sourcesContent:["\n.modal-content[data-v-a400c5a0] {\n  position: relative;\n  background-color: #1c1d26;\n  border: 1px solid #999;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n  background-clip: padding-box;\n  outline: 0;\n}\narticle.special[data-v-a400c5a0], section.special[data-v-a400c5a0] {\n    text-align: left; \n    padding-left: 2.55em;\n}\nh3[data-v-a400c5a0]{\ntext-align: center;\n}\n\n"],sourceRoot:""}])},142:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(4),o=a.n(i),s=a(2);e.default={name:"locationAdmin",data:function(){return{locations:[],title:"",address:"",email:"",phone:"",fax:"",mobile:"",selectedLocation:""}},methods:{fetchLocations:function(){var t=this;this.$http.get(o.a.URL+"/user/getAllLocations").then(function(e){t.locations=e.data.data.locations}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var a=t.body.msg[e].msg;alertify.notify(a,"error",5)}})},clearEntries:function(){this.title="",this.address="",this.email="",this.phone="",this.fax="",this.mobile=""},addLocation:function(){var t=this,e={title:this.title,address:this.address,email:this.email,phone:this.phone,fax:this.fax,mobile:this.mobile};this.$http.post(o.a.URL+"/admin/addLocation",e,{headers:s.a.getAuthHeader()}).then(function(e){$("#addLocation").modal("hide"),alertify.notify(e.body.msg,"success",5),t.clearEntries(),t.fetchLocations()}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var a=t.body.msg[e].msg;alertify.notify(a,"error",5)}})},editLocation:function(){var t=this,e=this.selectedLocation._id,a={id:e,title:this.title,address:this.address,email:this.email,phone:this.phone,fax:this.fax,mobile:this.mobile};this.$http.post(o.a.URL+"/admin/updateLocation",a,{headers:s.a.getAuthHeader()}).then(function(e){$("#editLocation").modal("hide"),alertify.notify(e.body.msg,"success",5),t.setSelectedLocation(""),t.fetchLocations()}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var a=t.body.msg[e].msg;alertify.notify(a,"error",5)}})},deleteLocation:function(t){var e=this;swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){e.$http.post(o.a.URL+"/admin/deleteLocation",{id:t},{headers:s.a.getAuthHeader()}).then(function(t){swal("Deleted!",t.body.msg,"success"),e.fetchLocations()}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var a=t.body.msg[e].msg;alertify.notify(a,"error",5)}})},function(t){})},setSelectedLocation:function(t){this.selectedLocation=t,this.selectedLocation?(this.title=this.selectedLocation.title,this.address=this.selectedLocation.address,this.email=this.selectedLocation.email,this.phone=this.selectedLocation.phone,this.fax=this.selectedLocation.fax,this.mobile=this.selectedLocation.mobile):this.clearEntries()}},created:function(){this.fetchLocations()},components:{}}},143:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"locationsAdmin"},[a("section",{staticClass:"wrapper style1 special fade-up",attrs:{id:"four"}},[a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("div",{staticClass:"table-wrapper"},[a("table",[t._m(1),t._v(" "),a("tbody",t._l(t.locations,function(e){return a("tr",[a("td",[a("h3",[t._v(t._s(e.title))]),t._v(" "),e.address?a("p",[a("i",{staticClass:"glyphicon glyphicon-home"}),t._v(" "+t._s(e.address))]):t._e(),t._v(" "),e.phone?a("p",[a("i",{staticClass:"glyphicon glyphicon-phone-alt"}),t._v(" Tel: "+t._s(e.phone))]):t._e(),t._v(" "),e.fax?a("p",[a("i",{staticClass:"fa fa-fax ",attrs:{"aria-hidden":"true"}}),t._v(" Fax: "+t._s(e.fax))]):t._e(),t._v(" "),e.mobile?a("p",[a("i",{staticClass:"fa fa-mobile fa-2x",attrs:{"aria-hidden":"true"}}),t._v(" Mobile: "+t._s(e.mobile))]):t._e(),t._v(" "),e.email?a("p",[a("i",{staticClass:"glyphicon glyphicon-envelope"}),t._v(" Email: "+t._s(e.email))]):t._e()]),t._v(" "),a("td",[a("button",{staticClass:"button special",attrs:{"data-toggle":"modal","data-target":"#editLocation"},on:{click:function(a){t.setSelectedLocation(e)}}},[t._v("Edit")]),t._v(" "),a("a",{staticClass:"button special",on:{click:function(a){t.deleteLocation(e._id)}}},[t._v("Delete")])])])}))])]),t._v(" "),a("button",{staticClass:"button special big",attrs:{"data-toggle":"modal","data-target":"#addLocation"},on:{click:function(e){t.clearEntries()}}},[t._v("Add a new location")])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addLocation",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(2),t._v(" "),a("h4",[a("CENTER",[t._v("Add Location")])],1)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row",staticStyle:{border:"none"}},[a("div",{staticClass:"col-md-12"},[a("form",{staticStyle:{display:"block"},attrs:{role:"form"},on:{submit:function(e){e.preventDefault(),t.addLocation()}}},[a("label",{staticClass:"test"},[t._v("Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",name:"title",placeholder:"Title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text",name:"address",placeholder:"Address"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Phone")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",name:"phone",placeholder:"Phone"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Fax")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fax,expression:"fax"}],attrs:{type:"text",name:"fax",placeholder:"Fax"},domProps:{value:t.fax},on:{input:function(e){e.target.composing||(t.fax=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Mobile")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"text",name:"mobile",placeholder:"Mobile"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),a("br"),t._v(" "),a("div",[a("CENTER",[a("button",{staticClass:"button special"},[t._v("Submit")])])],1)])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"editLocation",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){t.setSelectedLocation("")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("h4",[a("CENTER",[t._v("Edit Location")])],1)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row",staticStyle:{border:"none"}},[a("div",{staticClass:"col-md-12"},[a("form",{staticStyle:{display:"block"},attrs:{role:"form"},on:{submit:function(e){e.preventDefault(),t.editLocation()}}},[a("label",{staticClass:"test"},[t._v("Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",name:"title",placeholder:"Title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text",name:"address",placeholder:"Address"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Phone")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",name:"phone",placeholder:"Phone"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Fax")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fax,expression:"fax"}],attrs:{type:"text",name:"fax",placeholder:"Fax"},domProps:{value:t.fax},on:{input:function(e){e.target.composing||(t.fax=e.target.value)}}}),t._v(" "),a("label",{staticClass:"test"},[t._v("Mobile")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"text",name:"mobile",placeholder:"Mobile"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),a("div",[a("br"),t._v(" "),a("CENTER",[a("button",{staticClass:"button special"},[t._v("Submit")])])],1)])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"major"},[a("h2",[t._v("Locations")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Facilities")]),t._v(" "),a("th",[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}]}},34:function(t,e,a){function i(t){a(140)}var o=a(0)(a(142),a(143),i,"data-v-a400c5a0",null);t.exports=o.exports}});
//# sourceMappingURL=2.c6e30c043b712f626a5d.js.map