webpackJsonp([3],{136:function(t,e,n){var a=n(137);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(31)("18dda2b7",a,!0)},137:function(t,e,n){e=t.exports=n(30)(!0),e.push([t.i,".\\34 u img[data-v-98839fc0]{max-height:100%;max-width:100%}article.special[data-v-98839fc0],section.special[data-v-98839fc0]{text-align:left;padding-left:2.55em}h3[data-v-98839fc0]{text-align:center}","",{version:3,sources:["/Users/omarezzatel-etreby/Desktop/Shinigamis/Frontend/src/components/historyProjectsAdmin.vue"],names:[],mappings:"AACA,4BACE,gBAAiB,AACjB,cAAgB,CACjB,AACD,kEACI,gBAAiB,AACjB,mBAAqB,CACxB,AACD,oBACA,iBAAmB,CAClB",file:"historyProjectsAdmin.vue",sourcesContent:["\n.\\34 u img[data-v-98839fc0] {\n  max-height: 100%;\n  max-width: 100%;\n}\narticle.special[data-v-98839fc0], section.special[data-v-98839fc0] {\n    text-align: left; \n    padding-left: 2.55em;\n}\nh3[data-v-98839fc0]{\ntext-align: center;\n}\n"],sourceRoot:""}])},138:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),s=n.n(a),o=n(2);e.default={name:"historyProjectsAdmin",data:function(){return{projects:[],clients:[],fleets:[],name:"",unit:"",clientName:""}},methods:{fetchProjects:function(){var t=this;this.$http.get(s.a.URL+"/user/getAllProjects").then(function(e){t.projects=e.body.data.historyProjects}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},fetchClients:function(){var t=this;this.$http.get(s.a.URL+"/user/getAllClients").then(function(e){t.clients=e.body.data.clients}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},fetchFleets:function(){var t=this;this.$http.get(s.a.URL+"/user/getAllFleets").then(function(e){t.fleets=e.body.data.fleets}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},addProject:function(){var t=this,e={name:this.name,unit:this.unit,clientName:this.clientName};this.$http.post(s.a.URL+"/admin/addProject",e,{headers:o.a.getAuthHeader()}).then(function(e){t.name="",t.unit="",t.clientName="",alertify.notify("Project added successfully","success",5),t.fetchProjects()}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},deleteProject:function(t){var e=this;swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){e.$http.post(s.a.URL+"/admin/deleteProject",{id:t},{headers:o.a.getAuthHeader()}).then(function(t){swal("Deleted!",t.body.msg,"success"),e.fetchProjects()}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},function(t){})}},components:{},created:function(){this.fetchProjects(),this.fetchClients(),this.fetchFleets()}}},139:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"historyProjectsAdmin"},[n("section",{staticClass:"wrapper style1 special fade-up",attrs:{id:"four"}},[n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("div",{staticClass:"table-wrapper"},[n("table",[t._m(1),t._v(" "),n("tbody",[t._l(t.projects,function(e){return n("tr",[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.unit))]),t._v(" "),n("td",[t._v(t._s(e.clientName))]),t._v(" "),n("td",[n("a",{staticClass:"button special",on:{click:function(n){t.deleteProject(e._id)}}},[t._v("Delete")])])])}),t._v(" "),n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Contract Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],attrs:{name:"unit",id:"unit"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.unit=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Marine Units")]),t._v(" "),t._l(t.fleets,function(e){return n("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)]),t._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.clientName,expression:"clientName"}],attrs:{name:"clientName",id:"clientName"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.clientName=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Client Name")]),t._v(" "),t._l(t.clients,function(e){return n("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)]),t._v(" "),n("td",[n("button",{staticClass:"button special",on:{click:function(e){t.addProject()}}},[t._v("+")])])])],2)])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"major"},[n("h2",[t._v("History Projects")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Contracts Name & No.")]),t._v(" "),n("th",[t._v("Marine Units")]),t._v(" "),n("th",[t._v("Title of the Client")]),t._v(" "),n("th",[t._v("Actions")])])])}]}},33:function(t,e,n){function a(t){n(136)}var s=n(0)(n(138),n(139),a,"data-v-98839fc0",null);t.exports=s.exports}});
//# sourceMappingURL=3.dae694b4216e041c7574.js.map