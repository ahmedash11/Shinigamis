webpackJsonp([11,34],{110:function(t,e,n){var r=n(111);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(42)("18dda2b7",r,!0)},111:function(t,e,n){e=t.exports=n(41)(!0),e.push([t.i,".\\34 u img[data-v-98839fc0]{max-height:100%;max-width:100%}article.special[data-v-98839fc0],section.special[data-v-98839fc0]{text-align:left;padding-left:2.55em}h3[data-v-98839fc0]{text-align:center}","",{version:3,sources:["/Users/omarezzatel-etreby/Desktop/Shinigamis/Frontend/src/components/historyProjectsAdmin.vue"],names:[],mappings:"AACA,4BACE,gBAAiB,AACjB,cAAgB,CACjB,AACD,kEACI,gBAAiB,AACjB,mBAAqB,CACxB,AACD,oBACA,iBAAmB,CAClB",file:"historyProjectsAdmin.vue",sourcesContent:["\n.\\34 u img[data-v-98839fc0] {\n  max-height: 100%;\n  max-width: 100%;\n}\narticle.special[data-v-98839fc0], section.special[data-v-98839fc0] {\n    text-align: left; \n    padding-left: 2.55em;\n}\nh3[data-v-98839fc0]{\ntext-align: center;\n}\n"],sourceRoot:""}])},112:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(43),o=n.n(r),a=n(3);e.default={name:"historyProjectsAdmin",data:function(){return{projects:[],clients:[],fleets:[],name:"",unit:"",clientName:""}},methods:{fetchProjects:function(){var t=this;this.$http.get(o.a.URL+"/user/getAllProjects").then(function(e){t.projects=e.body.data.historyProjects}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},fetchClients:function(){var t=this;this.$http.get(o.a.URL+"/user/getAllClients").then(function(e){t.clients=e.body.data.clients}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},fetchFleets:function(){var t=this;this.$http.get(o.a.URL+"/user/getAllFleets").then(function(e){t.fleets=e.body.data.fleets}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},addProject:function(){var t=this,e={name:this.name,unit:this.unit,clientName:this.clientName};this.$http.post(o.a.URL+"/admin/addProject",e,{headers:a.a.getAuthHeader()}).then(function(e){t.name="",t.unit="",t.clientName="",alertify.notify("Project added successfully","success",5),t.fetchProjects()}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},deleteProject:function(t){var e=this;swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){e.$http.post(o.a.URL+"/admin/deleteProject",{id:t},{headers:a.a.getAuthHeader()}).then(function(t){swal("Deleted!",t.body.msg,"success"),e.fetchProjects()}).catch(function(t){if(t.body.msg instanceof String||"string"==typeof t.body.msg)swal("Oops...",t.body.msg,"error");else for(var e=0;e<t.body.msg.length;e++){var n=t.body.msg[e].msg;alertify.notify(n,"error",5)}})},function(t){})}},components:{},created:function(){this.fetchProjects(),this.fetchClients(),this.fetchFleets()}}},113:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"historyProjectsAdmin"},[n("section",{staticClass:"wrapper style1 special fade-up",attrs:{id:"four"}},[n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("div",{staticClass:"table-wrapper"},[n("table",[t._m(1),t._v(" "),n("tbody",[t._l(t.projects,function(e){return n("tr",[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.unit))]),t._v(" "),n("td",[t._v(t._s(e.clientName))]),t._v(" "),n("td",[n("a",{staticClass:"button special",on:{click:function(n){t.deleteProject(e._id)}}},[t._v("Delete")])])])}),t._v(" "),n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Contract Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],attrs:{name:"unit",id:"unit"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.unit=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Marine Units")]),t._v(" "),t._l(t.fleets,function(e){return n("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)]),t._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.clientName,expression:"clientName"}],attrs:{name:"clientName",id:"clientName"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.clientName=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Client Name")]),t._v(" "),t._l(t.clients,function(e){return n("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)]),t._v(" "),n("td",[n("button",{staticClass:"button special",on:{click:function(e){t.addProject()}}},[t._v("+")])])])],2)])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"major"},[n("h2",[t._v("History Projects")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Contracts Name & No.")]),t._v(" "),n("th",[t._v("Marine Units")]),t._v(" "),n("th",[t._v("Title of the Client")]),t._v(" "),n("th",[t._v("Actions")])])])}]}},18:function(t,e,n){function r(t){n(110)}var o=n(2)(n(112),n(113),r,"data-v-98839fc0",null);t.exports=o.exports},41:function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var a=r(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},42:function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=u[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(a(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var s=[],o=0;o<n.parts.length;o++)s.push(a(n.parts[o]));u[n.id]={id:n.id,refs:1,parts:s}}}}function o(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function a(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(p)return v;r.parentNode.removeChild(r)}if(h){var a=m++;r=f||(f=o()),e=s.bind(null,r,a,!1),n=s.bind(null,r,a,!0)}else r=o(),e=i.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}function s(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,o);else{var a=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(a,s[e]):t.appendChild(a)}}function i(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=n(45),u={},d=c&&(document.head||document.getElementsByTagName("head")[0]),f=null,m=0,p=!1,v=function(){},h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){p=n;var o=l(t,e);return r(o),function(e){for(var n=[],a=0;a<o.length;a++){var s=o[a],i=u[s.id];i.refs--,n.push(i)}e?(o=l(t,e),r(o)):o=[];for(var a=0;a<n.length;a++){var i=n[a];if(0===i.refs){for(var c=0;c<i.parts.length;c++)i.parts[c]();delete u[i.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},43:function(t,e){t.exports={URL:""}},45:function(t,e){t.exports=function(t,e){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],s=a[0],i=a[1],c=a[2],l=a[3],u={id:t+":"+o,css:i,media:c,sourceMap:l};r[s]?r[s].parts.push(u):n.push(r[s]={id:s,parts:[u]})}return n}}});
//# sourceMappingURL=11.99762d993554bba732f9.js.map